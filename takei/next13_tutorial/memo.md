## 基本

### CSR,SSR,SG,ISRについて

- **調べた武井の感想**
  - SSGとISRはコベツバで使われることはあるのかな、？(広報記事ぐらいな気がしている)(過去問とかのNO一覧の権限情報は、DBで管理？)
  - SSRが一番良さそうに見える
  - キャッシュを今までよりも意識する必要がありそうと思った

- CSRとは
  - 最初に取得するHTMLがほぼ空で、ページ全体をJavaScriptで生成する
  - ページ遷移することなくページ全体を書き換えることができる(これをSPAと呼ぶ)
  - クライアントに大きなJavaScriptコードを読み込ませて処理させてるので、初回ロードが重くなりやすい

- SSRとは？
  - CSRのデメリット（初回の重さ）を解決するため、リクエストに対して動的にHTMLを返却する

- SSGとは？
  - html生成を行ったら、キャッシュとして保持。ユーザーには生成済みのhtmlを渡すので表示が早い
  - 生成済みのものをわたすがゆえ、リアルタイム更新ができず、ページがしばらく更新されないものに対してやると良い

- ISRとは
  - SGでは静的コンテンツだけだったが、動的コンテンツもCDNにキャッシュすることができる。

[参考1](https://zenn.dev/bitarts/articles/37260ddb28ae5d)
[参考2](https://tech.012grp.co.jp/entry/2021/03/25/125014)

## 作成していて気づいたこと

- layout.tsxにhtmlタグやbodyタグの記載をする
- [〇〇]のpage.tsxにはパラメータを受け取るため、paramsが必ず入っているだろう

- 基本SG SSRで作成される。コベツバでは、変更のない静的htmlがほぼないからSSR,CSRになるだろう

- Server Componentで、useStateやuseEffectを利用できない
  - SSRでは、サーバーが静的htmlデータを返しているのみなので、状態をクライアントがもっていないため
- Client Component として扱うためには、`use client` を宣言したファイルでラップする

- Next.js でデータフェッチングを行うにはサーバーサイドで行うことが一般的？
  - コベツバもasync/awaitを利用して取得する、？(Fetch API？)

- error.tsx は必ず Client Component として扱われます。なぜ？
- 依存関係のない複数の API を呼び出す場合は処理が並列になるように Promise.all を使うことが推奨されます。

[参考1]()


### reactとの比較(楽になったな‐というところ)
- react routerでやっていたことがフォルダ構造で出来ること
- reactだとローディング中のフラグだったりを作って、制御していた
- データがあるかないかでの、読み込みページの記載がなくなった(はず)
