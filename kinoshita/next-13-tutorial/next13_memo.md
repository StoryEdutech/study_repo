## next13のドキュメント
- Using App Routerにすれば、Next13の[公式ドキュメント](https://nextjs.org/docs)を見れる

### Layout(RootLayout)
-  _app.tsx, _document.tsxがなくなったぽいので、html,bodyはここで書く
- Meatdataを自分で定義してexportすれば、nextが勝手に読み込んでくれる（Headコンポーネントを使わなくてもできる）
- これまで、layoutを使うときは、コンポーネントをlayoutタグでラップしていたが、やらなくてもよくなった

### 動的パラメータ
- getStaticPathsがなくなった
- 特に何も定義しなくても、コンポーネント内でparamsというキーで、パラメータを取得できている

### 今後のnextjsの方針
getServerSideProps getStaticProps getStaticPaths がなくなっている
今後は、ユーザーの情報など、キャッシュしてほしくないところを意識していくことになる

### サーバーコンポーネント
- すべてのコンポーネントはデフォルトでサーバーコンポーネントになっている
- jsのバンドルサイズが小さくなる（クライアント側では、jsを実行しないという考え方があるため）
    - hooks, onClickとかon●●系が使えない
    - async/awaitをコンポーネントに使える
- クライアントコンポーネント（親）のなかで、サーバーコンポーネントとして定義したもの（子）が呼び出されていた場合は、それはクライアントコンポーネントとして扱われる！
- サーバーコンポーネント（親）の中で、クライアントコンポーネント（子）を呼び出した場合は、クライアントコンポーネントの分のjsファイルはクライアントに渡すことになる (多分このパターンがほとんどになる)
- 使うとき
    - データを取得する
    - サーバーへの依存が大きい時（リアルタイムに更新するページとか）
    - 機密情報をサーバーに保存するとき
    - loadshとか重たいパッケージを使うとき、（クライアントコンポーネントで使うとすると、jsのサイズがデカくなりすぎる。が、サーバーコンポーネントで実行すれば、クライアントにjsを渡さずにすむ）

### クライアントコンポーネント
- "use client"を付けると、クライアントコンポーネントになる
- 使うとき
    - ボタンとか、検索バーとかインタラクティブに動くもの(onClick, onChangeとかを使うやつ)
    - stateとかライフサイクルに影響するもの（useEffectとかuseReducerとかを使うとき）
    - ブラウザ専用のapiを使うとき(windowとか)

### Nextjsのバンドルの仕様
- インポートしたパッケージは、コンポーネント内で使用している分しかバンドルしないようになっている

### コンポーネントの切り出し
なんでもかんでも、コンポーネントにすればいいというものではない。
- 小さすぎるとかえって、可読性を下げることになる
- 大きくなってきたものは、コンポーネント化して扱いやすくする

https://nextjs.org/docs/getting-started/react-essentials