*■APIとは*

一般的な意味としては

「アプリ開発インターフェース」（Application Programming Interface）

というもので、条件を満たした要求（Request）に対して、情報を渡す（Response）ことをするプログラムのことです。

特徴として、「内部の仕組みを知らずとも、情報の受け渡しが出来る」という点です。

＜イメージ＞

ー：API作成者側（のサーバーコード）
＋：API使用者側（のフロントコード）

ー A,B,Cを渡したら情報Dを渡します。
＋はい、どうぞABCです
ーどうぞDです。

→ここで、API使用者側が、ABCからDをどうやって見つけたか、Dはサーバー・データベースのどこに保存されているか知らない。

だが、ABCを渡したらDがくるということが約束されているため、そのとおりにすれば、Dを取れる。

一番簡単な例が、Firebaseなどのサーバーレスという、サーバー/データベースの管理を完全に第三者に任せる場合です。

＋ユーザー名とパスワードを渡します。保存してください。
ー了解。保存済みです
＋ありがとう。ユーザーに登録完成したことを伝える

＋ユーザー名とパスワードを渡します。ログイン処理を
ー了解。ユーザー名とパスワードが一致してません
＋なるほど。ユーザーにどちらかが間違っていると伝える

＋ユーザー名とパスワードを渡します。ログイン処理を
ー了解。ユーザー名とパスワードが一致してます。ユーザーIDが◯◯です。
＋なるほど。ユーザーにログイン完了と教えて、アプリのどこかにユーザーIDを保存しておきます。

→これで、データベースやサーバーの知識がまったくなくとも、ログインや登録機能を実装できます。なので「サーバーレス」と言われる「サーバーの実装不要」なものが出来るんです。


*API実践例*

決済サービスのPaypalでは、「商人アカウント」というものがあります。

例えば、自分のECサイトがあって、決済はPaypalを通って実施したい場合、

・アカウントの認証情報（主にトークンという長いランダムの文字列）
・商品ID

をPaypalに送るコードを用意します。

また、支払いを済ませた時に注文を保存するコードも用意します。

決済のボタンに押された時、情報を渡すコードが発行されて、

Paypal側では

・認証情報
・商品ID

を確認して、商品情報（値段など）を渡す。

ユーザーにPaypalの決済ウィンドーを見せます。ここでユーザーがPaypalのアカウントにログインして、支払いを済まします。

PAypalのAPIから、「◯◯さんが支払いを完了しましたよ」と連絡がくる。ここで注文を保存するコードを発行して、当商品とユーザーの情報をデータベースに入れます（その後、メールなどで、発送する人に連絡するなどします。）

これでは、「ユーザーのPaypalのアカウント情報やクレジットカード情報」を知る必要性も、その情報を保管したり、漏れないようにセキュリティ対策するなどのことも必要性もない。

それを全部Paypalに任せることが出来る。それでもPaypalの信憑性がある限り、支払いを受け取ると確信出来る。

（上記のイメージを「商品」の代わりに「コンテンツの閲覧権限」という感じで書き換えたら、正しくコベツバのシステムのイメージになります。）
